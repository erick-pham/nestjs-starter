!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("EPAnalytics",[],t):"object"==typeof exports?exports.EPAnalytics=t():e.EPAnalytics=t()}(self,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{event:()=>d,init:()=>l,pageview:()=>g});let n=null,o=null;function i({type:e,currentOrigin:t,currentPath:i,currentTitle:r,eventCategory:c="",eventAction:u="",eventLabel:a=""}){if(null===n)return;let l=null,d={};if(n.options&&(d=n.options),n.options&&n.options.url&&(l=n.options.url),!n.id||!l)throw new Error("Missing ID or Configs");const g={cid:n.id,uid:n.uid,ul:navigator.language,g_lat:o.latitude,g_lon:o.longitude,g_acc:o.accuracy,t:e,sr:`${window.screen.width}x${window.screen.height}`,dl:t,dp:i,dt:r,ec:c,ea:u,el:a},s="?"+new URLSearchParams(g).toString();fetch(`${l}${s}`,d)}function r(){return window.location.origin}function c(){return window.location.pathname}function u(){return document.title}function a(){i({type:"pageview",currentOrigin:r(),currentPath:c(),currentTitle:u()})}function l(e,t={},i={}){n={id:e,options:t};var r=function(e){let t="_ea=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let o=n[e];for(;" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}();if(r)n.uid=r;else{var c=Math.floor((new Date).getTime()/1e3),u=Math.random().toString(16).slice(2);n.uid=`EA.${u}.${c}`,function(e,t,n){const o=new Date;o.setTime(o.getTime()+31536e6);let i="expires="+o.toUTCString();document.cookie="_ea="+t+";"+i+";path=/"}(0,n.uid)}if(!o&&i&&!0===i.allowedGeo){function a(e){const t=e.coords;o={latitude:t.latitude,longitude:t.longitude,accuracy:t.accuracy}}function l(e){console.warn(`ERROR(${e.code}): ${e.message}`)}navigator.geolocation.getCurrentPosition(a,l,{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}}function d({category:e,action:t,label:n}){i({type:"event",currentOrigin:r(),currentPath:c(),currentTitle:u(),eventCategory:e,eventAction:t,eventLabel:n})}function g({path:e,title:t}){i({type:"pageview",currentOrigin:r(),currentPath:e,currentTitle:t})}return document.addEventListener("DOMContentLoaded",(function(){a(),document.addEventListener("click",(function(e){var t=e.target;"A"===t.tagName&&t.getAttribute("href")&&setTimeout(a,100)}))})),t})()));
//# sourceMappingURL=widget-analytics-latest.min.js.map